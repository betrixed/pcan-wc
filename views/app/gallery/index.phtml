<?php
$gem = $this->htmlgem;
$assets->add(['bootstrap', 'grid']);
$ubase = "gallery?orderby="; 
$link =  $ubase . $m->orderby;  
$page = $m->page;
$url =  "/gallery/view/";

?>
<div class='container body-wrap'>      
   <?= $gem->linkTo(['href'=>$link, 'text'=>'First']) ?>
   <?= $gem->linkTo(['href'=>$link.'&page='.$page->before,
   'text'=>'Previous']) ?> |
    <?= $gem->linkTo(['href'=>$link.'&page='.$page->next,
   'text'=>'Next']) ?> |
   <?= $gem->linkTo(['href'=>$link.'&page='.$page->last,
   'text'=>'Last']) ?> |
   <?=$page->current . "/" . $page->last ?>
<table class='table table-striped'>
    <thead>
        <tr>
            <th>Path</th>
            <th>Description</th>
            <th>Upload</th>
        </tr>
    </thead>
    <tbody>
        <?php 
         foreach($page->items as $gallery): 
         $udate = date('d-M-Y H:i',strtotime($gallery['last_upload']));
         $description = $gallery['description'];
         $name = $gallery['name'];
         ?>
<tr>
    <td class='leftCell'><?= $gem->linkTo(['href'=>$url.$name, 'text'=>$name]) ?></td>
            <td class='leftCell'><?= $description ?></td>
             <td><?= $udate ?></td>
        </tr>
        <?php endforeach ?>
    </tbody>
</table>
</div>
